<?xml version="1.0" encoding="UTF-8" ?>

<project name="NextEuropa" default="help">

    <!-- Install the platform. -->
    <target name="install-platform" description="Install the platform.">
        <drush
            command="site-install"
            assume="yes"
            root="${platform.build.dir}"
            bin="${drush.bin}"
            verbose="${drush.verbose}">
            <option name="db-url" value="${drupal.db.url}"/>
            <option name="site-name" value="${platform.site.name}"/>
            <option name="account-name" value="${drupal.admin.username}"/>
            <option name="account-pass" value="${drupal.admin.password}"/>
            <option name="account-mail" value="${drupal.admin.email}"/>
            <param>${platform.profile.name}</param>
        </drush>
    </target>

    <!-- Run PHP CodeSniffer tests. -->
    <target name="php-codesniffer" description="Run a PHP CodeSniffer test.">
        <phpcodesniffer
            standard="${phpcs.standard}"
            format="${phpcs.format}"
            file="${platform.resources.profiles.dir}"
            allowedFileExtensions="${phpcs.extensions}"
            ignorePatterns="${phpcs.ignore}"
            verbosity="${phpcs.verbose}"
        />
    </target>

    <!-- Run Behat tests. -->
    <target name="behat" description="Run Behat tests.">
        <behat
            executable="${behat.bin}"
            config="${behat.yml.path}"
            strict="${behat.options.strict}"
            verbose="${behat.options.verbosity}"
        />
    </target>

</project>
